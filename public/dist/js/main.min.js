$.fn.exists=function(t){var e=[].slice.call(arguments,1);return this.length&&t.call(this,e),this},$.ajaxSetup({headers:{"X-CSRF-Token":TOKEN}}),$(function(){$(".tracker").exists(function(){new Tracker(this)})});
var Tracker=function(t){this.url="",this.btn=t,this.pressedBtn=null,this.addListeners()};Tracker.prototype={constructor:Tracker,addListeners:function(){this.btn.on("click",$.proxy(this.track,this))},track:function(t){this.pressedBtn=$(t.target),this.market=this.pressedBtn.data("market"),this.store()},store:function(){var t=this;$.ajax("/store-market",{type:"post",data:{market:t.market},dataType:"json",beforeSend:function(){},success:function(e){console.log(e),t.pressedBtn.prop("disabled",!0),t.pressedBtn.text("tracked")},error:function(t,e,s){console.log(t+" - "+e+" - "+s)},complete:function(){}})}};